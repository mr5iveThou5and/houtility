{"body": [{"indent": 0, "text": ["Displacement Texture"], "type": "title", "level": 0}, {"indent": 0, "type": "summary", "text": ["Modifies normals and/or positions based on a texture map."]}, {"indent": 0, "type": "para", "text": ["This is a high level VOP that applies various methods of modifying surface positions and normals."]}, {"indent": 0, "type": "para", "text": ["See the ", {"text": ["Texture Type"], "type": "ui"}, " parameter for a list of supported operations."]}, {"body": [{"body": [{"indent": 4, "type": "para", "text": ["For more information on bump, normal & displacement mapping, please click ", {"text": ["here"], "fullpath": "/shade/normalmaps", "scheme": null, "type": "link", "value": "/shade/normalmaps"}, "."]}], "indent": 0, "role": "item", "type": "note"}], "container": true, "role": "item_group", "type": "note_group"}, {"body": [{"body": [{"body": [{"type": "para", "indent": 4, "text": ["The type of operation to perform."]}, {"body": [{"body": [{"indent": 4, "type": "para", "text": ["A fast alternative to displacement that only modifies normals to give the appearance of surface height variations. The surface offset is defined by the ", {"text": ["value"], "type": "ui"}, " input. The position isn\u2019t modified."]}], "type": "dt", "indent": 4, "text": ["Bump"]}, {"body": [{"indent": 4, "type": "para", "text": ["Sets the normal to the vector ", {"text": ["value"], "type": "ui"}, ", after converting from the set ", {"text": ["Normal Space"], "type": "ui"}, " and applying any flipping as defined by ", {"text": ["Flip X"], "type": "ui"}, " and ", {"text": ["Flip Y"], "type": "ui"}, ". The normal is applied relative to the chosen ", {"text": ["Space"], "type": "ui"}, "."]}], "type": "dt", "indent": 4, "text": ["Normal"]}, {"body": [{"indent": 4, "type": "para", "text": ["Offsets ", {"text": ["P"], "type": "ui"}, " by a component of ", {"text": ["value"], "type": "ui"}, " in the direction of ", {"text": ["N"], "type": "ui"}, ". Updates ", {"text": ["N"], "type": "ui"}, " to fit the new surface positions."]}], "type": "dt", "indent": 4, "text": ["Displace Along Normal"]}, {"body": [{"indent": 4, "type": "para", "text": ["Offsets ", {"text": ["P"], "type": "ui"}, " by the ", {"text": ["value"], "type": "ui"}, " vector. The ", {"text": ["value"], "type": "ui"}, " is applied in the chosen ", {"text": ["Space"], "type": "ui"}, "."]}], "type": "dt", "indent": 4, "text": ["Vector Displacement"]}], "type": "dt_group", "container": true}], "indent": 0, "text": ["Texture Type"], "role": "item", "attrs": {"id": "type"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 8, "text": ["The texture\u2019s color space."]}], "indent": 0, "text": ["Texture Color Space"], "role": "item", "attrs": {"id": "texcolorspace"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "text": ["The space in which the vector-based operations ", {"text": ["Normal"], "type": "ui"}, " and ", {"text": ["Vector Displacement"], "type": "ui"}, " are applied."]}, {"body": [{"body": [{"type": "para", "indent": 8, "text": ["Use the space defined by the Surface Normal and the UV-tangents. Using this space allows normal textures to be applied to deforming objects, since the vector applied relative to the surface\u2019s orientation, rather than simply in object space."]}], "type": "dt", "indent": 4, "text": ["UV Tangent Space"]}, {"body": [{"type": "para", "indent": 8, "text": ["Use the object\u2019s transform."]}], "type": "dt", "indent": 4, "text": ["Object Space"]}], "type": "dt_group", "container": true}], "indent": 0, "text": ["Vector Space"], "role": "item", "attrs": {"id": "vectorspace"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "text": ["This offset is added to the ", {"text": ["value"], "type": "ui"}, " before ", {"text": ["Effect Scale"], "type": "ui"}, " is applied."]}], "indent": 0, "text": ["Offset"], "role": "item", "attrs": {"id": "offset"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "text": ["The effect of the operation is scaled by this value."]}, {"type": "para", "indent": 4, "text": ["In ", {"text": ["Normal"], "type": "ui"}, " mode, this scales the rotation of normals away form the input normal."]}], "indent": 0, "text": ["Effect Scale"], "role": "item", "attrs": {"id": "scale"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 8, "text": ["The image file to use as a texture map."]}], "indent": 0, "text": ["Texture Path"], "role": "item", "attrs": {"id": "texture"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 8, "text": ["UDIM texture filename expansion. \n        The UDIM coordinate is computed based on the uv-coordinate: ", {"text": ["1000 + int(u)+1 + int(v)*10"], "type": "code"}, ".\n        Example: \"map_%(UDIM)d.rat\" returns \"map_1044.rat\" with u=3.1, v=4.15  "]}], "indent": 0, "text": ["UDIM Filename Expansion"], "role": "item", "attrs": {"id": "udim"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 8, "text": ["Determines how the image is evaluated when the texture\n        coordinates are outside the range 0-1. The options are:"]}, {"body": [{"body": [{"type": "para", "indent": 12, "text": ["(string value ", {"text": ["repeat"], "type": "code"}, "). The image map repeats outside the\n            range 0 to 1. Basically, the integer component of the texture\n            coordinate is ignored."]}], "type": "dt", "indent": 8, "text": ["Repeat"]}, {"body": [{"type": "para", "indent": 12, "text": ["(string value ", {"text": ["streak"], "type": "code"}, "). Texture coordinates are clamped to\n            the 0 to 1 range."]}], "type": "dt", "indent": 8, "text": ["Streak"]}, {"body": [{"type": "para", "indent": 12, "text": ["(string value ", {"text": ["decal"], "type": "code"}, "). Coordinates outside the range 0 to 1\n            will evaluate to the border color rather than an image\n            color."]}], "type": "dt", "indent": 8, "text": ["Decal"]}], "type": "dt_group", "container": true}], "indent": 0, "text": ["Wrap"], "role": "item", "attrs": {"id": "texwrap"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 8, "text": ["Type of anti-aliasing filter to be used for evaluation. The\n        options are:"]}, {"body": [{"body": [{"type": "para", "indent": 12, "text": ["(string value ", {"text": ["box"], "type": "code"}, ")"]}], "type": "dt", "indent": 8, "text": ["Box"]}, {"body": [{"type": "para", "indent": 12, "text": ["(string value ", {"text": ["gauss"], "type": "code"}, ")"]}], "type": "dt", "indent": 8, "text": ["Gaussian"]}, {"body": [{"type": "para", "indent": 12, "text": ["(string value ", {"text": ["bartlett"], "type": "code"}, ")"]}], "type": "dt", "indent": 8, "text": ["Bartlett/Triangular"]}, {"body": [{"type": "para", "indent": 12, "text": ["(string value ", {"text": ["sinc"], "type": "code"}, ")"]}], "type": "dt", "indent": 8, "text": ["Sinc Sharpening"]}, {"body": [{"type": "para", "indent": 12, "text": ["(string value ", {"text": ["hanning"], "type": "code"}, ")"]}], "type": "dt", "indent": 8, "text": ["Hanning"]}, {"body": [{"type": "para", "indent": 12, "text": ["(string value ", {"text": ["blackman"], "type": "code"}, ")"]}], "type": "dt", "indent": 8, "text": ["Blackman"]}, {"body": [{"type": "para", "indent": 12, "text": ["(string value ", {"text": ["catrom"], "type": "code"}, ")"]}], "type": "dt", "indent": 8, "text": ["Catmull-Rom"]}, {"body": [{"type": "para", "indent": 12, "text": ["(string value ", {"text": ["mitchell"], "type": "code"}, ")"]}], "type": "dt", "indent": 8, "text": ["Mitchell"]}, {"body": [{"type": "para", "indent": 12, "text": ["(string value ", {"text": ["point"], "type": "code"}, ")"]}], "type": "dt", "indent": 8, "text": ["Point Sampling"]}], "type": "dt_group", "container": true}], "indent": 0, "text": ["Filter"], "role": "item", "attrs": {"id": "texfilter"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 8, "text": ["Blur the texture based on derivatives in shading contexts.  For contexts that do not provide derivatives (such as the sop context), this parameter will have no effect and you should use ", {"text": ["Texture Blur"], "type": "ui"}, " or ", {"text": ["Pixel Blur"], "type": "ui"}, " instead.  In shading contexts, filtering will be proportional to the micropolygon size with a filter width of 1, filtering one micropolygon."]}], "indent": 0, "text": ["Filter Width"], "role": "item", "attrs": {"id": "texfilterwidth"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "text": ["The component to use with the scalar operations ", {"text": ["Bump"], "type": "ui"}, " and ", {"text": ["Displace Along Normal"], "type": "ui"}, "."]}], "indent": 0, "text": ["Channel"], "role": "item", "attrs": {"id": "texchannel"}, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "text": ["The image plane to read from the texture."]}, {"body": [{"body": [{"indent": 8, "type": "para", "text": ["Tangent-space normals exported using the ", {"text": ["Shading Tangent-Space Normal"], "type": "ui"}, " parameter on the ", {"text": "", "fullpath": "/nodes/vop/ROP/mantra", "scheme": "Icon", "type": "link", "value": "ROP/mantra"}, {"text": ["Mantra ROP"], "fullpath": "/nodes/out/ifd", "scheme": "Node", "type": "link", "value": "/nodes/out/ifd"}, " are exported to the ", {"text": ["Nt"], "type": "code"}, " image plane by convention."]}], "indent": 4, "role": "item", "type": "tip"}], "container": true, "role": "item_group", "type": "tip_group"}], "indent": 0, "text": ["Image Plane"], "role": "item", "attrs": {"id": "teximageplane"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "text": ["In ", {"text": ["Normal"], "type": "ui"}, " mode, controls in what format the input is stored."]}, {"body": [{"body": [{"type": "para", "indent": 8, "text": ["The components of the normal are in the ", {"text": ["0-1"], "type": "code"}, " range. This is typically done in textures in order to store values in the positive and visible range."]}], "type": "dt", "indent": 4, "text": ["0 to 1"]}, {"body": [{"type": "para", "indent": 8, "text": ["The components of the normal are in their natural, normalized state."]}], "type": "dt", "indent": 4, "text": ["-1 to 1"]}], "type": "dt_group", "container": true}], "indent": 0, "text": ["Normal Space"], "role": "item", "attrs": {"id": "normalspace"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "text": ["Flip the input normals in X, before applying the ", {"text": ["Vector Space"], "type": "ui"}, "."]}], "indent": 0, "text": ["Flip X"], "role": "item", "attrs": {"id": "normalflipx"}, "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "text": ["Flip the input normals in Y, before applying the ", {"text": ["Vector Space"], "type": "ui"}, "."]}], "indent": 0, "text": ["Flip Y"], "role": "item", "attrs": {"id": "normalflipy"}, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/shade/normalmaps", "scheme": null, "type": "link", "value": "/shade/normalmaps"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/vop/displace", "scheme": "Node", "type": "link", "value": "/nodes/vop/displace"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/vop/displacenml", "scheme": "Node", "type": "link", "value": "/nodes/vop/displacenml"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/vop/surfacecolor", "scheme": "Node", "type": "link", "value": "/nodes/vop/surfacecolor"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/vop/texture", "scheme": "Node", "type": "link", "value": "/nodes/vop/texture"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "container": true, "type": "related_section", "id": "related"}], "title": ["Displacement Texture"], "summary": ["Modifies normals and/or positions based on a texture map."], "attrs": {"namespace": null, "internal": "displacetexture", "type": "node", "version": null, "context": "vop"}, "included": ["/nodes/vop/displace", "/nodes/vop/standard_shading_parms", "/nodes/vop/texture"], "type": "root"}